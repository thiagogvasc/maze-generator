var w=Object.defineProperty;var k=(n,t,s)=>t in n?w(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var o=(n,t,s)=>(k(n,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerpolicy&&(e.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?e.credentials="include":l.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(l){if(l.ep)return;l.ep=!0;const e=s(l);fetch(l.href,e)}})();class E{constructor(t,s,r,l,e,i){o(this,"i");o(this,"j");o(this,"x");o(this,"y");o(this,"width");o(this,"height");o(this,"borders");o(this,"visited");o(this,"strokeColor");o(this,"frameFillColor");o(this,"baseFillColor");this.i=t,this.j=s,this.x=r,this.y=l,this.width=e,this.height=i,this.borders={top:!0,left:!0,bottom:!0,right:!0},this.visited=!1,this.strokeColor="black",this.frameFillColor="transparent",this.baseFillColor="transparent"}draw(t){t.beginPath();const{top:s,left:r,bottom:l,right:e}=this.borders;s&&(t.moveTo(this.x,this.y),t.lineTo(this.x+this.width,this.y)),r&&(t.moveTo(this.x,this.y),t.lineTo(this.x,this.y+this.height)),l&&(t.moveTo(this.x,this.y+this.height),t.lineTo(this.x+this.width,this.y+this.height)),e&&(t.moveTo(this.x+this.width,this.y),t.lineTo(this.x+this.width,this.y+this.height)),t.strokeStyle=this.strokeColor,t.fillStyle=this.frameFillColor,t.stroke(),t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fill(),this.frameFillColor=this.baseFillColor}update(){}}class T{constructor(t,s,r,l,e,i){o(this,"x");o(this,"y");o(this,"width");o(this,"height");o(this,"rows");o(this,"cols");o(this,"cells");this.x=t,this.y=s,this.width=r,this.height=l,this.rows=e,this.cols=i,this.cells=[];for(let a=0;a<e;a++){const h=[];for(let c=0;c<i;c++){const d=this.width/i,b=this.height/e,y=new E(a,c,this.x+c*d,this.y+a*b,d,b);h.push(y)}this.cells.push(h)}}cellAt(t,s){if(!(t<0||s<0||t>=this.cols||s>=this.rows))return this.cells[t][s]}draw(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.stroke(),this.cells.forEach(s=>s.forEach(r=>r.draw(t)))}update(){}}class M{constructor(){}generateMaze(t){var l,e,i,a;const s=[],r=t.cellAt(0,0);for(r&&s.push(r);s.length>0;){const h=s.pop(),c=[];((l=t.cellAt(h.i-1,h.j))==null?void 0:l.visited)===!1&&c.push(t.cellAt(h.i-1,h.j)),((e=t.cellAt(h.i,h.j-1))==null?void 0:e.visited)===!1&&c.push(t.cellAt(h.i,h.j-1)),((i=t.cellAt(h.i+1,h.j))==null?void 0:i.visited)===!1&&c.push(t.cellAt(h.i+1,h.j)),((a=t.cellAt(h.i,h.j+1))==null?void 0:a.visited)===!1&&c.push(t.cellAt(h.i,h.j+1)),c.length>0&&s.push(h);const d=c[Math.floor(Math.random()*c.length)];d&&(d.visited=!0,s.push(d),d.i>h.i?(d.borders.top=!1,h.borders.bottom=!1):d.i<h.i?(d.borders.bottom=!1,h.borders.top=!1):d.j>h.j?(d.borders.left=!1,h.borders.right=!1):(d.borders.right=!1,h.borders.left=!1))}}}class q{constructor(t){o(this,"grid");o(this,"queue");o(this,"goalFound");o(this,"goalCell");this.grid=t,this.queue=[],this.goalFound=!1,this.goalCell=t.cellAt(15,15),this.goalCell.baseFillColor="green",this.queue.push(t.cellAt(5,0))}execute(){var t,s,r,l;for(;this.queue.length>0&&!this.goalFound;){const e=this.queue.shift();if(e.visited||(e.visited=!0),e.i===this.goalCell.i&&e.j===this.goalCell.j){this.goalFound=!0,console.log("end");return}e.frameFillColor="blue",e.baseFillColor="red";const i=[];((t=this.grid.cellAt(e.i-1,e.j))==null?void 0:t.visited)===!1&&e.borders.top===!1&&i.push(this.grid.cellAt(e.i-1,e.j)),((s=this.grid.cellAt(e.i,e.j-1))==null?void 0:s.visited)===!1&&e.borders.left===!1&&i.push(this.grid.cellAt(e.i,e.j-1)),((r=this.grid.cellAt(e.i+1,e.j))==null?void 0:r.visited)===!1&&e.borders.bottom===!1&&i.push(this.grid.cellAt(e.i+1,e.j)),((l=this.grid.cellAt(e.i,e.j+1))==null?void 0:l.visited)===!1&&e.borders.right===!1&&i.push(this.grid.cellAt(e.i,e.j+1)),i.forEach(a=>{a.visited||this.queue.push(a)})}}update(){var t,s,r,l;if(this.queue.length>0&&!this.goalFound){const e=this.queue.shift();if(e.visited||(e.visited=!0),e.i===this.goalCell.i&&e.j===this.goalCell.j){this.goalFound=!0,console.log("end");return}e.frameFillColor="blue",e.baseFillColor="red";const i=[];((t=this.grid.cellAt(e.i-1,e.j))==null?void 0:t.visited)===!1&&e.borders.top===!1&&i.push(this.grid.cellAt(e.i-1,e.j)),((s=this.grid.cellAt(e.i,e.j-1))==null?void 0:s.visited)===!1&&e.borders.left===!1&&i.push(this.grid.cellAt(e.i,e.j-1)),((r=this.grid.cellAt(e.i+1,e.j))==null?void 0:r.visited)===!1&&e.borders.bottom===!1&&i.push(this.grid.cellAt(e.i+1,e.j)),((l=this.grid.cellAt(e.i,e.j+1))==null?void 0:l.visited)===!1&&e.borders.right===!1&&i.push(this.grid.cellAt(e.i,e.j+1)),i.forEach(a=>{a.visited||this.queue.push(a)})}}}class C{constructor(t){o(this,"grid");o(this,"stack");o(this,"goalFound");o(this,"goalCell");this.grid=t,this.stack=[],this.goalFound=!1,this.goalCell=t.cellAt(10,10),this.goalCell.baseFillColor="green",this.stack.push(t.cellAt(5,0))}execute(){var t,s,r,l;for(;this.stack.length>0&&!this.goalFound;){const e=this.stack.pop();if(e.i===this.goalCell.i&&e.j===this.goalCell.j){this.goalFound=!0,console.log("end");return}e.frameFillColor="blue",e.baseFillColor="red";const i=[];((t=this.grid.cellAt(e.i-1,e.j))==null?void 0:t.visited)===!1&&e.borders.top===!1&&i.push(this.grid.cellAt(e.i-1,e.j)),((s=this.grid.cellAt(e.i,e.j-1))==null?void 0:s.visited)===!1&&e.borders.left===!1&&i.push(this.grid.cellAt(e.i,e.j-1)),((r=this.grid.cellAt(e.i+1,e.j))==null?void 0:r.visited)===!1&&e.borders.bottom===!1&&i.push(this.grid.cellAt(e.i+1,e.j)),((l=this.grid.cellAt(e.i,e.j+1))==null?void 0:l.visited)===!1&&e.borders.right===!1&&i.push(this.grid.cellAt(e.i,e.j+1)),i.length>0&&this.stack.push(e);const a=i[Math.floor(Math.random()*i.length)];a&&(a.visited=!0,this.stack.push(a))}}update(){var t,s,r,l;if(this.stack.length>0&&!this.goalFound){const e=this.stack.pop();if(console.log(this.stack),e.i===this.goalCell.i&&e.j===this.goalCell.j){this.goalFound=!0,console.log("end");return}e.frameFillColor="blue",e.baseFillColor="red";const i=[];((t=this.grid.cellAt(e.i-1,e.j))==null?void 0:t.visited)===!1&&e.borders.top===!1&&i.push(this.grid.cellAt(e.i-1,e.j)),((s=this.grid.cellAt(e.i,e.j-1))==null?void 0:s.visited)===!1&&e.borders.left===!1&&i.push(this.grid.cellAt(e.i,e.j-1)),((r=this.grid.cellAt(e.i+1,e.j))==null?void 0:r.visited)===!1&&e.borders.bottom===!1&&i.push(this.grid.cellAt(e.i+1,e.j)),((l=this.grid.cellAt(e.i,e.j+1))==null?void 0:l.visited)===!1&&e.borders.right===!1&&i.push(this.grid.cellAt(e.i,e.j+1)),i.length>0?this.stack.push(e):e.baseFillColor="darkred";const a=i[Math.floor(Math.random()*i.length)];a&&(a.visited=!0,this.stack.push(a))}}}class S{constructor(){o(this,"startTime",0);o(this,"currentTime",0);o(this,"elapsedTime",0)}update(){this.currentTime=Date.now(),this.elapsedTime=this.currentTime-this.startTime,this.startTime=this.currentTime}}const u=document.querySelector("canvas");u.width=500;u.height=500;u.style.backgroundColor="#d3d3d3";const j=u.getContext("2d"),f=new T(0,0,u.width,u.height,20,20),A=new M;A.generateMaze(f);const z=document.getElementById("run");let g=new C(f);f.cells.forEach(n=>n.forEach(t=>t.visited=!1));let p=!1,v=0;const B=document.getElementById("fps");setInterval(()=>B.innerText=`FPS: ${v}`,100);const m=new S;m.update();const I=document.getElementById("generate-maze");I.onclick=()=>{f.cells.forEach(n=>n.forEach(t=>{t.visited=!1,t.borders={top:!0,left:!0,bottom:!0,right:!0},t.baseFillColor="transparent",t.frameFillColor="transparent"})),A.generateMaze(f),p=!1};z.onclick=()=>{const t=document.getElementById("algorithms").value;f.cells.forEach(s=>s.forEach(r=>{r.visited=!1,r.baseFillColor="transparent",r.frameFillColor="transparent"})),t==="dfs"?g=new C(f):t==="bfs"&&(g=new q(f)),console.log(g),p=!0};function F(){m.update(),v=Math.floor(1/(m.elapsedTime/1e3)),requestAnimationFrame(F),j.clearRect(0,0,u.width,u.height),f.draw(j),console.log(p),p&&(g==null||g.update())}F();
